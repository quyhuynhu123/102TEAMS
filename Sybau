local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

-- XÃ³a GUI láº¡ náº¿u tá»“n táº¡i
for _, gui in ipairs(PlayerGui:GetChildren()) do
    if gui:IsA("ScreenGui") and gui:FindFirstChildWhichIsA("TextLabel", true) and gui:FindFirstChildWhichIsA("TextLabel", true).Text:find("Script Loading Please Wait") then
        gui:Destroy()
    end
end

-- Pet Database
local petData = {
    ["Common Egg"] = {"Dog", "Golden Lad", "Bunny"},
    ["Uncommon Egg"] = {"Deer", "Cat", "Chicken"},
    ["Rare Egg"] = {"Cow", "Sheep", "Goat"},
    ["Bug Egg"] = {"Snail", "Bee", "Mantis", "Giant Ant", "Dragonfly"},
    ["Zen Egg"] = {"Shiba Inu", "Kappa", "Kitsune", "Tanuki", "Nihonzaru"},
    ["Mythical Egg"] = {"Red Fox", "Grey Mouse", "Squirrel", "Tiger", "Panda"},
    ["Legendary Egg"] = {"Polar Bear", "Peacock", "Turtle", "Elephant", "Leopard"},
    ["Dinosaur Egg"] = {"T-Rex", "Stegosaurus", "Triceratops", "Pterodactyl", "Velociraptor"},
    ["Rainbow Egg"] = {"Unicorn", "Rainbow Cat", "Pegasus", "Glitter Deer"},
}

-- Pet hiáº¿m cÃ³ tá»‰ lá»‡ tháº¥p hÆ¡n
local rarePets = {
    ["Dragonfly"] = true,
    ["Kitsune"] = true,
    ["Red Fox"] = true,
    ["Polar Bear"] = true,
    ["T-Rex"] = true,
}

-- GUI Setup
local gui = Instance.new("ScreenGui", PlayerGui)
gui.Name = "PetRandomizerGUI"
gui.ResetOnSpawn = false

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 300, 0, 180)
frame.Position = UDim2.new(0.5, -150, 0.5, -90)
frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
frame.BorderSizePixel = 0
frame.BackgroundTransparency = 0.2
frame.Active = true
frame.Draggable = true

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 30)
title.Text = "ðŸŽ² Pet Randomizer"
title.Font = Enum.Font.GothamBold
title.TextColor3 = Color3.new(1, 1, 1)
title.BackgroundTransparency = 1
title.TextSize = 18

local eggDropdown = Instance.new("TextBox", frame)
eggDropdown.PlaceholderText = "Type Egg Name (e.g., Zen Egg)"
eggDropdown.Text = ""
eggDropdown.Size = UDim2.new(1, -20, 0, 30)
eggDropdown.Position = UDim2.new(0, 10, 0, 40)
eggDropdown.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
eggDropdown.TextColor3 = Color3.new(0, 0, 0)
eggDropdown.ClearTextOnFocus = false

local resultLabel = Instance.new("TextLabel", frame)
resultLabel.Size = UDim2.new(1, -20, 0, 50)
resultLabel.Position = UDim2.new(0, 10, 0, 80)
resultLabel.BackgroundTransparency = 1
resultLabel.Text = "Result will appear here"
resultLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
resultLabel.Font = Enum.Font.GothamBold
resultLabel.TextSize = 20

local randomButton = Instance.new("TextButton", frame)
randomButton.Text = "Random!"
randomButton.Size = UDim2.new(1, -20, 0, 30)
randomButton.Position = UDim2.new(0, 10, 0, 135)
randomButton.BackgroundColor3 = Color3.fromRGB(80, 160, 255)
randomButton.TextColor3 = Color3.new(1, 1, 1)
randomButton.Font = Enum.Font.Gotham
randomButton.TextSize = 16

-- Cooldown logic
local lastClick = 0
randomButton.MouseButton1Click:Connect(function()
    if tick() - lastClick < 5 then
        resultLabel.Text = "Cooldown! Please wait..."
        return
    end

    local eggName = eggDropdown.Text
    local pets = petData[eggName]

    if not pets then
        resultLabel.Text = "Invalid Egg Name!"
        return
    end

    -- Random logic with rare chance
    local result = nil
    local tries = 0
    repeat
        result = pets[math.random(1, #pets)]
        tries += 1
    until not rarePets[result] or math.random() < 0.2 or tries > 10

    resultLabel.Text = "ðŸŽ‰ " .. result .. " ðŸŽ‰"
    lastClick = tick()
end)
