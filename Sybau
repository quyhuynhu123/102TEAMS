local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

-- üßπ Xo√° GUI ch·ª©a "Script Loading Please Wait!" ho·∫∑c discord.gg
local function containsBannedText(obj)
    if obj:IsA("TextLabel") or obj:IsA("TextBox") then
        local text = string.lower(obj.Text)
        if string.find(text, "script loading please wait", 1, true) or string.find(text, "discord.gg") then
            return true
        end
    end
    for _, child in ipairs(obj:GetChildren()) do
        if containsBannedText(child) then
            return true
        end
    end
    return false
end

for _, gui in ipairs(PlayerGui:GetChildren()) do
    if gui:IsA("ScreenGui") and containsBannedText(gui) then
        gui:Destroy()
    end
end

-- üêæ D·ªØ li·ªáu pet
local eggPetData = {
    ["Common Egg"] = {
        {Name = "Dog", Weight = 3},
        {Name = "Golden Lad", Weight = 2},
        {Name = "Bunny", Weight = 3},
    },
    ["Uncommon Egg"] = {
        {Name = "Deer", Weight = 3},
        {Name = "Cat", Weight = 3},
        {Name = "Chicken", Weight = 3},
    },
    ["Rare Egg"] = {
        {Name = "Cow", Weight = 3},
        {Name = "Sheep", Weight = 3},
        {Name = "Goat", Weight = 3},
    },
    ["Bug Egg"] = {
        {Name = "Snail", Weight = 3},
        {Name = "Caterpillar", Weight = 3},
        {Name = "Mantis", Weight = 3},
        {Name = "Giant Ant", Weight = 3},
        {Name = "Dragonfly", Weight = 1},
    },
    ["Zen Egg"] = {
        {Name = "Shiba Inu", Weight = 3},
        {Name = "Kappa", Weight = 3},
        {Name = "Kitsune", Weight = 1},
        {Name = "Tanuki", Weight = 3},
        {Name = "Nihonzaru", Weight = 3},
    },
    ["Mythical Egg"] = {
        {Name = "Red Fox", Weight = 1},
        {Name = "Grey Mouse", Weight = 3},
        {Name = "Squirrel", Weight = 3},
    },
    ["Legendary Egg"] = {
        {Name = "Polar Bear", Weight = 1},
        {Name = "Turtle", Weight = 3},
        {Name = "Elephant", Weight = 3},
        {Name = "Leopard", Weight = 3},
    },
    ["Dinosaur Egg"] = {
        {Name = "T-Rex", Weight = 1},
        {Name = "Stegosaurus", Weight = 3},
        {Name = "Triceratops", Weight = 3},
        {Name = "Pterodactyl", Weight = 3},
    },
    ["Rainbow Egg"] = {
        {Name = "Unicorn", Weight = 2},
        {Name = "Rainbow Cat", Weight = 2},
        {Name = "Pegasus", Weight = 2},
        {Name = "Glitter Deer", Weight = 2},
    },
}

-- üéØ Ch·ªçn pet d·ª±a v√†o tr·ªçng s·ªë
local function choosePet(petList)
    local totalWeight = 0
    for _, pet in ipairs(petList) do
        totalWeight += pet.Weight
    end
    local rand = math.random() * totalWeight
    local accum = 0
    for _, pet in ipairs(petList) do
        accum += pet.Weight
        if rand <= accum then
            return pet.Name
        end
    end
end

-- üñºÔ∏è GUI
local gui = Instance.new("ScreenGui", PlayerGui)
gui.Name = "PetRandomizerGUI"
gui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame", gui)
mainFrame.Size = UDim2.new(0, 300, 0, 150)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
mainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true

local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, 0, 0, 30)
title.BackgroundTransparency = 1
title.Text = "üé≤ Pet Randomizer"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 18

local resultLabel = Instance.new("TextLabel", mainFrame)
resultLabel.Position = UDim2.new(0, 0, 0.4, 0)
resultLabel.Size = UDim2.new(1, 0, 0, 40)
resultLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
resultLabel.Font = Enum.Font.Gotham
resultLabel.TextSize = 22
resultLabel.BackgroundTransparency = 1
resultLabel.Text = "Result: "

local eggDropdown = Instance.new("TextBox", mainFrame)
eggDropdown.PlaceholderText = "Enter Egg Name..."
eggDropdown.Size = UDim2.new(1, -20, 0, 30)
eggDropdown.Position = UDim2.new(0, 10, 0.2, 0)
eggDropdown.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
eggDropdown.TextColor3 = Color3.fromRGB(255, 255, 255)
eggDropdown.Font = Enum.Font.Gotham
eggDropdown.TextSize = 16

local randomBtn = Instance.new("TextButton", mainFrame)
randomBtn.Size = UDim2.new(0, 120, 0, 30)
randomBtn.Position = UDim2.new(0.5, -60, 0.8, 0)
randomBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 127)
randomBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
randomBtn.Font = Enum.Font.GothamBold
randomBtn.TextSize = 16
randomBtn.Text = "Randomize"

-- Toggle button
local toggleBtn = Instance.new("TextButton", gui)
toggleBtn.Size = UDim2.new(0, 100, 0, 30)
toggleBtn.Position = UDim2.new(0, 10, 0, 10)
toggleBtn.BackgroundColor3 = Color3.fromRGB(85, 85, 85)
toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleBtn.Font = Enum.Font.Gotham
toggleBtn.TextSize = 14
toggleBtn.Text = "Toggle GUI"

toggleBtn.MouseButton1Click:Connect(function()
    mainFrame.Visible = not mainFrame.Visible
end)

-- üïí Cooldown
local lastUsed = 0
randomBtn.MouseButton1Click:Connect(function()
    if tick() - lastUsed < 5 then
        resultLabel.Text = "‚è≥ Wait 5 seconds..."
        return
    end

    local egg = eggDropdown.Text
    if eggPetData[egg] then
        local petName = choosePet(eggPetData[egg])
        resultLabel.Text = "üéâ " .. petName .. "!"
        lastUsed = tick()
    else
        resultLabel.Text = "‚ùå Invalid egg"
    end
end)
